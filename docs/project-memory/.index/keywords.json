{
  "sessions": [
    {
      "id": "S-2026-02-08-1400-bootstrap-memory",
      "file": "docs/project-memory/sessions/S-2026-02-08-1400-bootstrap-memory.md",
      "content": " Session-ID: S-2026-02-08-1400-bootstrap-memory Date: 2026-02-08 Author: dmar Bootstrap the Project Memory system so every coding session and decision is searchable with citations. Starting a new repo. Need a way to track: - Why code changed - What was decided and when - How to find context for any commit 1. Create directory structure for sessions, ADRs, runbooks, architecture 2. Create templates for sessions and ADRs 3. Document Session ID format and commit message standard 4. Create example files showing how it works 5. Update CLAUDE.md so AI knows how to use the system 6. Update README.md to point to CLAUDE.md - Created `docs/project-memory/` structure - Created session and ADR templates - Created example session (this file) - Created example ADR for decision tracking - Created PR template requiring Session IDs - Documented Session ID format: `S-YYYY-MM-DD-HHMM-<slug>` - Established commit message format: `[SessionID] description` **Session ID Format**: Chose `S-YYYY-MM-DD-HHMM-<slug>` because: - Sortable by time - Human readable - Unique enough for concurrent sessions - Easy to grep in commits **Commit Prefix Requirement**: Every commit must include `[SessionID]` because: - Makes git log searchable - Links commits to session context - Enables tracing from code to reasoning None. System is ready to use. Commits: - (This is the bootstrap session) PRs: - (Will be linked when PR created) ADRs: - ADR-0001 - Session-based commit tracking \n"
    },
    {
      "id": "S-2026-02-08-1400-listener-ui-mute",
      "file": "docs/project-memory/sessions/S-2026-02-08-1400-listener-ui-mute.md",
      "content": " Session-ID: S-2026-02-08-1400-listener-ui-mute Date: 2026-02-08 Author: Claude + dmar Add visibility into listener pause/resume, make all panels collapsible, add audio mute toggle, add build number, and add comprehensive test suite. After implementing the always-on listener pipeline, the UI didn't show when the listener was paused for echo cancellation. The stage diagram showed LISTENING in the sequential pipeline (but it's actually parallel). Some panels couldn't be collapsed. There was no way to mute audio output. No test infrastructure existed. 1. Expose listenerPaused/audioMuted in LoopState 2. Two-row stage diagram (listener status + processing pipeline) 3. Make InternalStatePanel and BiasSliders collapsible 4. Audio mute toggle in ModelToggle 5. Add vitest infrastructure and comprehensive test suite 6. Build number (datetime stamp) in header 7. Speech event logging panel - Added vitest.config.ts, 12 test files with 208 tests covering all core modules - Added speech-event-log.ts (event logging), format-time.ts (timezone-aware formatting) - Added listenerPaused and audioMuted to LoopState - Wired onStateChange callback from AudioListener into LoopController - Two-row stage diagram: Row 1 = listener status, Row 2 = processing pipeline - InternalStatePanel: wrapped in Card + Collapsible - BiasSliders: wrapped in Card + Collapsible - TTSSpeaker: added muted field, setMuted(), isMuted(), applied in 4 playback paths - ModelToggle: added Audio Output switch - LoopController: added setAudioMuted() method - useLoop hook: exposed setAudioMuted callback - vite.config.ts: BUILD_NUMBER define (YYYYMMDDHHMMSS) - vite-env.d.ts: TypeScript declaration - App.tsx: displayed in header - SpeechEventPanel component for real-time speech event monitoring - SpeechEventLog class for structured event storage - Wired into App.tsx - Listener pause during SPEAK is unavoidable (echo cancellation) — made visible rather than eliminated - Used VITS silence as volume=0 rather than skip to preserve pipeline timing - Two-row stage diagram separates parallel concerns (listener vs processing) - None Commits: - (see git log) PRs: - N/A ADRs: - N/A \n"
    },
    {
      "id": "S-2026-02-08-1430-migrate-project-memory",
      "file": "docs/project-memory/sessions/S-2026-02-08-1430-migrate-project-memory.md",
      "content": " Session-ID: S-2026-02-08-1430-migrate-project-memory Date: 2026-02-08 Author: dmar Migrate the Traceable Project Memory system from the bootstrap repo into the browser_question_loop project and test it. The browser_question_loop project is an active voice agent application with ongoing development. Need a system to track sessions, decisions, and commits so future changes are searchable and explainable with citations. 1. Copy the entire Project Memory system from traceable-searchable-adr-memory-index 2. Migrate docs/project-memory/ directory structure 3. Copy CLAUDE.md so AI assistants know how to use the system 4. Copy .github/PULL_REQUEST_TEMPLATE.md 5. Update README.md to document the Project Memory system 6. Create a test session (this document) to demonstrate the workflow 7. Make a commit using the Session ID format to test it works - Copied `docs/project-memory/` directory with all templates and examples - Copied `CLAUDE.md` with AI instructions - Copied `.github/PULL_REQUEST_TEMPLATE.md` - Updated `README.md` to add Project Memory System section - Created this session document: `S-2026-02-08-1430-migrate-project-memory.md` **Keep existing docs/screenshots/ directory**: The project already has a docs/ directory for screenshots. Project Memory lives alongside it in docs/project-memory/. **No changes to existing workflow**: The Project Memory system is additive. Existing development continues normally, but now with Session IDs in commits and session documentation. None. Ready to test with a commit. Commits: - `fe10763` [S-2026-02-08-1430-migrate-project-memory] Add traceable project memory system PRs: - (Will be linked when PR created) ADRs: - See ADR-0001 in source repo for rationale on Session ID format \n"
    },
    {
      "id": "S-2026-02-08-1500-fix-silence-counter",
      "file": "docs/project-memory/sessions/S-2026-02-08-1500-fix-silence-counter.md",
      "content": " Session-ID: S-2026-02-08-1500-fix-silence-counter Date: 2026-02-08 Author: Claude + dmar Fix premature turn-end detection that causes speech to be clipped to just the first word (e.g., \"what time is it?\" only captures \"what\"). The silence-based turn detection in `updateVADFromLevel()` (loop-controller.ts:406-420) fires a synthetic `TURN_END` when `silenceDurationMs >= silenceThresholdMs` (1500ms default) during SIGNAL_DETECT with interim text. However, `silenceDurationMs` accumulates during long silences between utterances and is never reset when new speech arrives via SpeechRecognition interim results. This causes TURN_END to fire within ~200ms of the first word, using whatever partial text is available. Evidence from Speech Events panel: - `FINAL \"what time\" (0.70)` fires 213ms after first interim `\"what\"` — 0.70 is the hardcoded confidence from silence-based detection - Full sentence `\"what time is it\" (0.97)` arrives later during MICRO_RESPONSE, gets queued, but discarded as stale (>10s old) 1. Reset `silenceDurationMs` and `silenceStartTime` when transitioning LISTENING → SIGNAL_DETECT 2. Add tests verifying the reset behavior 3. Deploy and verify - `src/lib/loop-controller.ts` — Reset silence counter on LISTENING→SIGNAL_DETECT transition - `src/lib/__tests__/loop-controller.test.ts` — Add test for silence reset on signal detect - Reset silence counter at the LISTENING→SIGNAL_DETECT transition rather than modifying `updateVADFromLevel()`. This is the most targeted fix — the problem is that old silence data persists into a new speech detection window. - Should we also reset when `isSpeaking` flips to true in `updateVADFromLevel`? Currently line 392 does `silenceDurationMs = 0` but only when audio level crosses threshold. SpeechRecognition can start producing text before audio level detection catches up. Commits: - `b1c92c7` [S-2026-02-08-1400-listener-ui-mute] (fix included in this commit) PRs: - N/A ADRs: - N/A \n"
    }
  ]
}
